import React, { useEffect } from "react";
import CloseButton from "../CloseButton/CloseButton";
import styles from "./SubModal.module.scss";

const taskContent = {
  "Базовая настройка аккаунта на GetCourse": [
    "регистрация аккаунта",
    "брендирование аккаунта",
    "регистрация и подключение домена",
    "настройка доменной почты",
    "защита репутации домена",
    "настройка обычных и СМС-рассылок",
    "подключение платежных систем",
    "создание тренингов и уроков",
  ],
  "Подготовка и проведение вебинара": [
    "лендинг регистрации и все вспомогательные страницы",
    "настройка и проведение вебинаров на площадках GetCourse, Bizon 360 (напрямую или в связках с OBS, YouTube)",
    "анализ посетителей вебинара",
    "настройка автовебинара, редактирование сценария, монтаж видео",
    "настройка автовебинарной воронки с отправкой всех необходимых писем",
  ],
  Продажи: [
    "действия с заказами, покупками, платежами",
    "продление покупок",
    "назначение кураторов",
    "анализ платежей",
    "создание продуктов с разным видом доступа в зависимости от цели заказчика",
    "оформление доски задач",
    "настройка предложений, комиссий менеджера, сроков оплаты",
    "работа с внутренней CRM GetCourse, обучение работе с ней менеджеров",
    "промоакции и партнерская программа",
  ],
  "Работа с пользователями": [
    "импорт и экспорт пользователей",
    "сегментирование пользователей",
    "оформление сотрудников и выдача им прав",
    "создание дополнительных полей, автоматическое их заполнение",
    "выдача дипломов",
    "анкетирование пользователей",
  ],
  "Тренинги и уроки": [
    "настройка тренингов и расписания под любой запрос",
    "настройка уведомлений об открытии уроков",
    "настройка и верстка уроков",
    "настройка бонусных уроков",
    "оформление тренингов",
  ],
  Подключение: [
    "Телеграм и чат-боты",
    "Вайбер и чат-боты",
    "ВК и настройка ботов",
    "подключение IP-телефонии",
    "Chatium",
  ],
  "Дополнительные услуги": [
    "создание лендингов",
    "сбор и подключение виджетов",
    "интеграции разных площадок",
    "сбор дашбордов",
    "отчетность",
    "работа с utm",
    "подключение и настройка платежных систем",
    "техническая поддержка пользователей",
    "Работаю с дополнительными платформами:",
    "– Salebot",
    "– Senler",
    "– BotHelp",
    "– Bizon 365",
    "– Vakas-tools",
    "– SMS центр",
    "– Яндекс.Метрика",
    "– Tilda Publishing",
    "– Звонобот",
    "– Звонок.ком",
    "– Ютуб и т.д.",
  ],
};

const SubModal = ({ title, onClose }) => {
  const items = taskContent[title];

  const handleOverlayClick = (e) => {
    if (e.target === e.currentTarget) {
      onClose();
    }
  };

  useEffect(() => {
    const handleKeyDown = (e) => {
      if (e.key === "Escape") {
        onClose();
      }
    };
    document.addEventListener("keydown", handleKeyDown);
    return () => document.removeEventListener("keydown", handleKeyDown);
  }, [onClose]);

  return (
    <div className={styles.overlay} onClick={handleOverlayClick}>
      <div className={styles.modal}>
        <CloseButton onClick={onClose} />
        <ul className={styles.list}>
          {items?.map((item, index) => (
            <li key={index}>{item}</li>
          ))}
        </ul>
      </div>
    </div>
  );
};

export default SubModal;
